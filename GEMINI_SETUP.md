# ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ Google Gemini API

ูพูุชูุฑู ููุด ูุตููุน ุฑุงฺฏุงู Google Gemini ุฑุง ุจู ุฌุง Claude ุงุณุชูุงุฏู ูโฺฉูุฏ.

## ูุฒุงุง ุงุณุชูุงุฏู ุงุฒ Gemini

โ **ฺฉุงููุงู ุฑุงฺฏุงู** - ุจุฏูู ูุงุฒ ุจู ูพุฑุฏุงุฎุช
โ **ฺฉูุชุง ุจุงูุง** - 1,500 ุฏุฑุฎูุงุณุช ุฏุฑ ุฑูุฒ (ุฑุงฺฏุงู)
โ **ุณุฑุน** - ูุฏู `gemini-1.5-flash` ุจุณุงุฑ ุณุฑุน ุงุณุช
โ **ูพุดุชุจุงู ุงุฒ ูุงุฑุณ** - ูุงุจูุช ุชุญูู ูุชู ูุงุฑุณ
โ **ุชูฺฉู ุจุงูุง** - ุชุง 1 ูููู ุชูฺฉู ูุฑูุฏ

## ูุฑุงุญู ุฏุฑุงูุช API Key

### 1. ูุฑูุฏ ุจู Google AI Studio

ุจู ุขุฏุฑุณ ุฒุฑ ุจุฑูุฏ:
```
https://aistudio.google.com/app/apikey
```

### 2. ุณุงุฎุช API Key

1. ุฑู ุฏฺฉูู **"Create API Key"** ฺฉูฺฉ ฺฉูุฏ
2. ฺฉ ูพุฑูฺู Google Cloud ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ (ุง ุฌุฏุฏ ุจุณุงุฒุฏ)
3. API Key ุดูุง ููุงุด ุฏุงุฏู ูโุดูุฏ
4. ุฑู **"Copy"** ฺฉูฺฉ ฺฉูุฏ

### 3. ุชูุธู ุฏุฑ ูพุฑูฺู

ูุงู `.env` ุฑุง ุจุงุฒ ฺฉูุฏ:

```bash
# Google Gemini API (ุฑุงฺฏุงู)
GEMINI_API_KEY=AIzaSy...  # ฺฉูุฏ ุฎูุฏ ุฑุง ุงูุฌุง ุจฺฏุฐุงุฑุฏ
```

## ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. Package ุชุบุฑ ุงูุชู

```json
// ูุจู (Claude)
"@anthropic-ai/sdk": "^0.32.1"

// ุจุนุฏ (Gemini)
"@google/generative-ai": "^0.21.0"
```

### 2. Analyzer ุฌุฏุฏ

ูุงู ุฌุฏุฏ: `packages/ai-analyzer/src/GeminiAnalyzer.ts`

ุงุณุชูุงุฏู ุงุฒ ูุฏู:
- **gemini-1.5-flash** - ุฑุงฺฏุงูุ ุณุฑุนุ ููุงุณุจ ุจุฑุง ุชููุฏ
- **gemini-1.5-pro** - ูุฏุฑุชููุฏุชุฑ (ุงฺฏุฑ ูุงุฒ ุฏุงุดุชุฏ)

### 3. ุชูุธูุงุช ูุญุท

```typescript
// apps/api/src/config/env.ts
GEMINI_API_KEY: z.string().min(1, 'GEMINI_API_KEY is required')
```

## ูุฏูโูุง ุฏุฑ ุฏุณุชุฑุณ

### Gemini 1.5 Flash (ูพุดููุงุฏ - ุฑุงฺฏุงู)
```
model: "gemini-1.5-flash"
```
- โก ุณุฑุนุชุฑู ูุฏู
- ๐ฐ ฺฉุงููุงู ุฑุงฺฏุงู
- ๐ ฺฉูุชุง ุฑูุฒุงูู: 1,500 ุฏุฑุฎูุงุณุช
- ๐ ุญุฏุงฺฉุซุฑ ุชูฺฉู ุฎุฑูุฌ: 8,192

### Gemini 1.5 Pro (ุฑุงฺฏุงู ุจุง ูุญุฏูุฏุช)
```
model: "gemini-1.5-pro"
```
- ๐ฏ ุฏููโุชุฑ
- ๐ฐ ุฑุงฺฏุงู ุชุง 50 ุฏุฑุฎูุงุณุช/ุฑูุฒ
- ๐ ฺฉูุชุง ูุญุฏูุฏ
- ๐ ุญุฏุงฺฉุซุฑ ุชูฺฉู ุฎุฑูุฌ: 8,192

## ูุญุฏูุฏุชโูุง ุฑุงฺฏุงู

### Gemini 1.5 Flash (ูุฏู ูพุดููุงุฏ):
- **1,500 ุฏุฑุฎูุงุณุช ุฏุฑ ุฑูุฒ**
- **1 ูููู ุชูฺฉู ูุฑูุฏ ุฏุฑ ุฑูุฒ**
- **15 ุฏุฑุฎูุงุณุช ุฏุฑ ุฏููู**

ุงู ูุญุฏูุฏุชโูุง ุจุฑุง ฺฉ ุณุณุชู ุฎุจุฑ ฺฉุงููุงู ฺฉุงู ุงุณุช!

### ูุญุงุณุจู ุชูุฑุจ:
- ุจุง 5 ููุจุน ุฎุจุฑ
- ูุฑ ููุจุน 20 ุฎุจุฑ ุฏุฑ ุฑูุฒ
- = 100 ููุงูู ุฏุฑ ุฑูุฒ
- ูุฑ ููุงูู 1 ุฏุฑุฎูุงุณุช
- = **100 ุฏุฑุฎูุงุณุช ุฏุฑ ุฑูุฒ** (ุฎู ุฒุฑ ูุญุฏูุฏุช!)

## ุชุณุช API Key

ุจุนุฏ ุงุฒ ุชูุธูุ ุชุณุช ฺฉูุฏ:

```bash
# ูุตุจ dependencies
pnpm install

# ุจูุฏ ูพุฑูฺู
pnpm build

# ุงุฌุฑุง API
pnpm --filter @media-intelligence/api dev
```

ุงฺฏุฑ API Key ุฏุฑุณุช ุจุงุดุฏุ ุจุงุฏ ุงู ูพุงู ุฑุง ุจุจูุฏ:
```
[INFO] Gemini Analyzer initialized { model: 'gemini-1.5-flash', batchSize: 10 }
```

## ูุซุงู ุงุณุชูุงุฏู

```typescript
import { GeminiAnalyzer } from '@media-intelligence/ai-analyzer';

const analyzer = new GeminiAnalyzer({
  apiKey: process.env.GEMINI_API_KEY!,
});

const result = await analyzer.analyzeArticle(article);

console.log(result.sentiment);  // { sentiment: 'positive', score: 0.7, confidence: 0.9 }
console.log(result.topics);     // ['ุงูุชุตุงุฏ', 'ููุช', 'ุชุฌุงุฑุช']
console.log(result.keywords);   // ['ุตุงุฏุฑุงุช', 'ููุช', 'ุจุงุฒุงุฑ', ...]
```

## ุชุญููโูุง ุงูุฌุงู ุดุฏู

Gemini ุจุฑุง ูุฑ ููุงูู ุงู ููุงุฑุฏ ุฑุง ุชุญูู ูโฺฉูุฏ:

### 1. ุงุญุณุงุณุงุช (Sentiment)
```json
{
  "sentiment": "positive" | "negative" | "neutral" | "mixed",
  "score": -1 ุชุง 1,
  "confidence": 0 ุชุง 1
}
```

### 2. ููุถูุนุงุช (Topics)
```json
["ุงูุชุตุงุฏ", "ุณุงุณุช", "ูุฑุฒุด", "ูุฑููฺฏ", "ููุงูุฑ"]
```

### 3. ููุฌูุฏุชโูุง (Entities)
```json
[
  { "text": "ุชูุฑุงู", "type": "LOCATION", "relevance": 0.9 },
  { "text": "ูุฒุงุฑุช ููุช", "type": "ORGANIZATION", "relevance": 0.85 }
]
```

### 4. ฺฉููุงุช ฺฉูุฏ (Keywords)
```json
["ููุช", "ุตุงุฏุฑุงุช", "ููุช", "ุจุงุฒุงุฑ", "ุชููุฏ"]
```

### 5. ุฎูุงุตู (Summary)
```
"ุฎูุงุตู ููุงูู ุฏุฑ 2-3 ุฌููู..."
```

## ุชูุธูุงุช ูพุดุฑูุชู

### ุชุบุฑ ูุฏู

ุฏุฑ ูุงู `packages/shared/src/constants.ts`:

```typescript
export const GEMINI_CONFIG = {
  model: 'gemini-1.5-flash', // ุง 'gemini-1.5-pro'
  maxOutputTokens: 8192,
  temperature: 0.3,
  batchSize: 10,
};
```

### ุชูุธู Temperature

- **0.0 - 0.3**: ุฎุฑูุฌ ูุทุนโุชุฑ (ูพุดููุงุฏ ุจุฑุง ุชุญูู)
- **0.4 - 0.7**: ุชุนุงุฏู ุจู ุฎูุงูุช ู ูุทุนุช
- **0.8 - 1.0**: ุฎุฑูุฌ ุฎูุงูุงููโุชุฑ (ุจุฑุง ุฎูุงุตูโุณุงุฒ)

### ุงูุฒุงุด Concurrency

ุฏุฑ ูุงู `.env`:

```bash
# ุชุนุฏุงุฏ worker ูุง ููุฒูุงู ุชุญูู
ANALYZER_CONCURRENCY=5  # ูพุดโูุฑุถ: 3
```

ุชูุฌู: ุจุง ุงูุฒุงุด concurrencyุ ูุทูุฆู ุดูุฏ ุจู ูุญุฏูุฏุช ูุฑุฎ (15 req/min) ูุฎูุฑุฏ.

## ููุงุณู ุจุง Claude

| ูฺฺฏ | Gemini Flash | Claude Sonnet |
|------|-------------|---------------|
| **ููุช** | ุฑุงฺฏุงู | $3 / 1M ุชูฺฉู |
| **ุณุฑุนุช** | ุฎู ุณุฑุน | ุณุฑุน |
| **ฺฉูุชุง ุฑูุฒุงูู** | 1,500 ุฏุฑุฎูุงุณุช | ุจุณุชฺฏ ุจู ูพูู |
| **ูุงุฑุณ** | ุนุงู โ | ุนุงู โ |
| **ฺฉูุช ุชุญูู** | ุฎูุจ | ุฎู ุฎูุจ |
| **ุชูฺฉู ูุฑูุฏ** | 1M | 200K |
| **ุชูฺฉู ุฎุฑูุฌ** | 8K | 4K |

## ุฎุทุงูุง ู ุฑุงู ุญู

### ุฎุทุง: Invalid API Key
```
Error: Invalid API key
```
**ุฑุงู ุญู:**
- API Key ุฑุง ุฏูุจุงุฑู ฺฺฉ ฺฉูุฏ
- ูุทูุฆู ุดูุฏ ูุถุง ุฎุงู ุงุถุงูู ูุฏุงุฑุฏ
- API ุฑุง ุฏุฑ Google AI Studio ูุนุงู ฺฉูุฏ

### ุฎุทุง: Resource Exhausted (429)
```
Error: Resource exhausted (quota)
```
**ุฑุงู ุญู:**
- ูุญุฏูุฏุช ุฑูุฒุงูู ุชูุงู ุดุฏู
- ุตุจุฑ ฺฉูุฏ ุชุง ูุฑุฏุง
- ุง concurrency ุฑุง ฺฉู ฺฉูุฏ

### ุฎุทุง: Rate Limit
```
Error: Rate limit exceeded
```
**ุฑุงู ุญู:**
- ุจุด ุงุฒ 15 ุฏุฑุฎูุงุณุช/ุฏููู ูุฑุณุชุงุฏุฏ
- `ANALYZER_CONCURRENCY` ุฑุง ฺฉู ฺฉูุฏ (ูุซูุงู ุจู 2)

## ูฺฉุงุช ููู

### 1. ูุฏุฑุช ฺฉูุชุง
ุจุง 1,500 ุฏุฑุฎูุงุณุช ุฑุงฺฏุงู ุฏุฑ ุฑูุฒ:
- ~60 ุฏุฑุฎูุงุณุช ุฏุฑ ุณุงุนุช
- ~1 ุฏุฑุฎูุงุณุช ุฏุฑ ุฏููู

ุจุฑุง ุงุณุชูุงุฏู ุจููู:
```bash
ANALYZER_CONCURRENCY=2  # ุจู ุฌุง 3
```

### 2. Caching
Gemini ูพุดุชุจุงู ุงุฒ caching ุฏุงุฑุฏ. ูโุชูุงูุฏ ุจุฑุง ููุงูุงุช ุชฺฉุฑุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ.

### 3. Batch Processing
ุณุณุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงูุงุช ุฑุง ุฏุณุชูโุจูุฏ ูโฺฉูุฏ (10 ุชุง).

### 4. Error Handling
ุณุณุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ:
- 3 ุจุงุฑ retry ูโฺฉูุฏ
- ุจุง exponential backoff
- ุฎุทุงูุง ุฑุง log ูโฺฉูุฏ

## ููุงุจุน ุจุดุชุฑ

- [Google AI Studio](https://aistudio.google.com/)
- [Gemini API Docs](https://ai.google.dev/docs)
- [Rate Limits](https://ai.google.dev/pricing)
- [Models Overview](https://ai.google.dev/models/gemini)

## ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏ:
1. API Key ุฑุง ฺฺฉ ฺฉูุฏ
2. logs ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ูุญุฏูุฏุช ฺฉูุชุง ุฑุง ฺฺฉ ฺฉูุฏ
4. ุจู ูุณุชูุฏุงุช Google ูุฑุงุฌุนู ฺฉูุฏ

---

**ูฺฉุชู:** Gemini ุจุฑุง ฺฉ ุณุณุชู ุฎุจุฑ ูุงุฑุณ ุนุงู ุงุณุช ู ฺฉุงููุงู ุฑุงฺฏุงู! ๐
